import{d as g,l as d}from"./three.module-Cdr6prlM.js";import{c as x,j as e,r as b,C as f,T as C,b as n,E as M}from"./CameraControls-B0uc7W7v.js";import{D as I}from"./DRACOLoader-9yoF831m.js";import{u as j,T as E}from"./leva.esm-CVovrNrm.js";import{C as P}from"./CesiumIonAuthPlugin-Be6mEtH1.js";import{G as k}from"./GLTFExtensionsPlugin-Be6LgQeY.js";import{O as y}from"./Ellipsoid-CuSwTtSS.js";import{U as z}from"./UpdateOnChangePlugin-CWnEQ7XL.js";import{E as L}from"./Environment-YTzchM49.js";import{G as T,a as v}from"./GizmoViewport-D1gHK5QN.js";import"./EnvironmentControls-BxHxh8we.js";import"./GlobeControls-zx-2mbFa.js";import"./TilesRenderer-CeXRket9.js";import"./I3DMLoader-CCE0l15Y.js";import"./readMagicBytes-B3HEinov.js";import"./GLTFLoader-MuDEHmgM.js";import"./B3DMLoader-BP7KbjDP.js";import"./PNTSLoader-C1N3YT1_.js";import"./CMPTLoader-Asj2gLWV.js";import"./EllipsoidRegion-DVo7AClK.js";import"./CanvasDOMOverlay-BAeUhSoF.js";import"./extends-CF3RwP-h.js";import"./EPSGTilesPlugin-zoCLijLZ.js";import"./TiledImageSource-BrtEEhz2.js";const l=new g,p=new d;class O{constructor(t){t={up:"+z",recenter:!0,lat:null,lon:null,height:0,...t},this.tiles=null,this.up=t.up.toLowerCase().replace(/\s+/,""),this.lat=t.lat,this.lon=t.lon,this.height=t.height,this.recenter=t.recenter,this._callback=null}init(t){this.tiles=t,this._callback=()=>{const{up:r,lat:s,lon:i,height:a,recenter:h}=this;if(s!==null&&i!==null)this.transformLatLonHeightToOrigin(s,i,a);else{const{ellipsoid:m}=t,u=Math.min(...m.radius);if(t.getBoundingSphere(l),l.center.length()>u*.5){const o={};m.getPositionToCartographic(l.center,o),this.transformLatLonHeightToOrigin(o.lat,o.lon,o.height)}else{const o=t.group;switch(o.rotation.set(0,0,0),r){case"x":case"+x":o.rotation.z=Math.PI/2;break;case"-x":o.rotation.z=-Math.PI/2;break;case"y":case"+y":break;case"-y":o.rotation.z=Math.PI;break;case"z":case"+z":o.rotation.x=-Math.PI/2;break;case"-z":o.rotation.x=Math.PI/2;break}t.group.position.copy(l.center).applyEuler(o.rotation).multiplyScalar(-1)}}h||t.group.position.setScalar(0),t.removeEventListener("load-tile-set",this._callback)},t.addEventListener("load-tile-set",this._callback)}transformLatLonHeightToOrigin(t,r,s=0){const{group:i,ellipsoid:a}=this.tiles;a.getRotationMatrixFromAzElRoll(t,r,0,0,0,i.matrix,y),a.getCartographicToPosition(t,r,s,p),i.matrix.setPosition(p).invert().decompose(i.position,i.quaternion,i.scale),i.updateMatrixWorld()}dispose(){const{group:t}=this.tiles;t.position.setScalar(0),t.quaternion.identity(),t.scale.set(1,1,1),this.tiles.addEventListener("load-tile-set",this._callback)}}const R=new I().setDecoderPath("https://www.gstatic.com/draco/v1/decoders/");function w(){const c={assetId:{value:"1415196",options:{"Aerometrex - San Francisco":"1415196","Aerometrex - Denver":"354307","New York City 3D Buildings":"75343","Melbourne Photogrammetry":"69380","Melbourne Point Cloud":"43978","Montreal Point Cloud":"28945"}}},{assetId:t}=j(c);return e.jsxs(f,{frameloop:"demand",camera:{position:[300,300,300],near:1,far:1e5},style:{width:"100%",height:"100%",position:"absolute",margin:0,left:0,top:0},children:[e.jsxs(C,{children:[e.jsx(n,{plugin:P,args:{apiToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI3MGNiODVmZS1hNzliLTQ5NWYtOTdhOS02ZmIzMmZlYWRlMzAiLCJpZCI6MjY3NzgzLCJpYXQiOjE3MzY0Mjg0MTJ9.o7EtbJyQ6yNAgfHFal1RS1BKKM-RmZNusqBCeiowNZo",assetId:t}}),e.jsx(n,{plugin:k,dracoLoader:R}),e.jsx(n,{plugin:O}),e.jsx(n,{plugin:z}),e.jsx(E,{})]},t),e.jsx(M,{enableDamping:!0,maxDistance:5e3}),e.jsx(L,{preset:"sunset",background:!0,backgroundBlurriness:.9,environmentIntensity:1}),e.jsx(T,{alignment:"bottom-right",children:e.jsx(v,{})})]})}x.createRoot(document.getElementById("root")).render(e.jsx(b.StrictMode,{children:e.jsx(w,{})}));
